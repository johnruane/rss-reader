(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,a){e.exports=a(22)},21:function(e,t,a){},22:function(e,t,a){"use strict";a.r(t);var n=a(13),r=a(8),c=a.n(r),s=a(7),i=a(10),l=a(1),o=a(2),u=a(4),h=a(3),d=a(6),m=a(5),p=a(0),b=a.n(p),g=a(12),f=a.n(g),v=(a(21),function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return this.props.articles.map(function(e,t){return b.a.createElement("article",{className:"article",key:t},b.a.createElement("div",{className:"article-inner"},b.a.createElement("a",{className:"article-link",href:e.link,target:"_blank",rel:"noopener noreferrer"},b.a.createElement("img",{className:"article-image",src:e.src,alt:""}),b.a.createElement("h3",{className:"article-heading"},e.heading)),b.a.createElement("p",{className:"article-origin"},e.website," - ",e.displaydate)))})}}]),t}(b.a.Component)),O=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.numberOfPages,a=e.current,n=e.handlePagination,r=a<t?" active":"",c=a>1?" active":"";return b.a.createElement("div",{className:"pagination"},b.a.createElement("button",{className:"pagination-button".concat(r),onClick:n,value:"older"},"\u21e6 Older"),b.a.createElement("button",{className:"pagination-button".concat(c),onClick:n,value:"newer"},"Newer \u21e8"))}}]),t}(b.a.Component),w=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.onSortClick,a=e.sortByChecked;return b.a.createElement("div",{className:"filter-by"},b.a.createElement("p",{className:"filter-heading"},this.props.title,": "),b.a.createElement("div",{className:"segmented-control"},b.a.createElement("input",{className:"segmented-control-input",type:"radio",name:"sc-1",id:"sc-1-2",defaultChecked:"descending"===a,onChange:function(e){return t(e)},value:"descending"}),b.a.createElement("label",{className:"segmented-control-label",htmlFor:"sc-1-2"},"\u2193"),b.a.createElement("input",{className:"segmented-control-input",type:"radio",name:"sc-1",id:"sc-1-1",defaultChecked:"ascending"===a,onChange:function(e){return t(e)},value:"ascending"}),b.a.createElement("label",{className:"segmented-control-label",htmlFor:"sc-1-1"},"\u2191")))}}]),t}(b.a.Component),y=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.onShowClick,a=e.showMeChecked;return b.a.createElement("div",{className:"filter-by"},b.a.createElement("p",{className:"filter-heading"},this.props.title,": "),b.a.createElement("div",{className:"segmented-control"},b.a.createElement("input",{className:"segmented-control-input",type:"radio",name:"sc-2",id:"sc-2-1",defaultChecked:5===a,onChange:function(e){return t(e)},value:"5"}),b.a.createElement("label",{className:"segmented-control-label",htmlFor:"sc-2-1"},"5"),b.a.createElement("input",{className:"segmented-control-input",type:"radio",name:"sc-2",id:"sc-2-2",defaultChecked:10===a,onChange:function(e){return t(e)},value:"10"}),b.a.createElement("label",{className:"segmented-control-label",htmlFor:"sc-2-2"},"10"),b.a.createElement("input",{className:"segmented-control-input",type:"radio",name:"sc-2",id:"sc-2-3",defaultChecked:25===a,onChange:function(e){return t(e)},value:"25"}),b.a.createElement("label",{className:"segmented-control-label",htmlFor:"sc-2-3"},"25")))}}]),t}(b.a.Component);function k(e,t){var a;switch(e){case"ascending":a=Object(s.a)(t).sort(function(e,t){return e.pubdate-t.pubdate});break;case"descending":a=Object(s.a)(t).sort(function(e,t){return t.pubdate-e.pubdate});break;default:a=t}return a}function j(e){var t=new Date(e);return"".concat(t.getDate()," ").concat(["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()])}a.d(t,"default",function(){return C});var E=[{title:"refinery29",url:"https://www.refinery29.com/rss.xml"},{title:"i-d",url:"https://i-d.vice.com/en_uk/rss"}],C=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={allArticles:[],articlesToRender:[],sortOrder:"descending",showMe:5,currentPage:1,numberOfPages:1},a.handleSortArticles=a.handleSortArticles.bind(Object(d.a)(a)),a.handleShowMe=a.handleShowMe.bind(Object(d.a)(a)),a.handlePagination=a.handlePagination.bind(Object(d.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"handleShowMe",value:function(e){var t=parseInt(e.target.value,10);this.setState({articlesToRender:k(this.state.sortOrder,this.state.allArticles.slice(0,t)),numberOfPages:Math.ceil(this.state.allArticles.length/t),showMe:t})}},{key:"handleSortArticles",value:function(e){var t=k(e.target.value,this.state.allArticles),a=this.state.currentPage*this.state.showMe-this.state.showMe,n=this.state.currentPage*this.state.showMe;this.setState({allArticles:t,articlesToRender:t.slice(a,n),sortOrder:e.target.value})}},{key:"handlePagination",value:function(e){var t=e.target.value,a=this.state.currentPage;if(!("newer"===t&1===a||"older"===t&a===this.state.numberOfPages)){var n=[],r=this.state.allArticles,c=this.state.showMe;if("older"===t){var s=this.state.showMe*this.state.currentPage;n=r.slice(s,s+c),this.setState({articlesToRender:n,currentPage:a+1})}else if("newer"===t){var i=(this.state.currentPage-1)*c;n=r.slice(i-c,i),this.setState({articlesToRender:n,currentPage:a-1})}}}},{key:"componentDidMount",value:function(){var e=Object(i.a)(c.a.mark(function e(){var t,a,n,r,i,l,o;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],E.forEach(function(e){var t=S("https://cors-anywhere.herokuapp.com/".concat(e.url));a.push(t)}),e.next=4,Promise.all(a);case 4:n=e.sent,r=(t=[]).concat.apply(t,Object(s.a)(n)),i=r.map(function(e){var t,a,n=e.querySelector("link").textContent.split("//")[1].split(".com")[0].replace("www.","");switch(n){case"refinery29":t=(new DOMParser).parseFromString(e.querySelector("item description").textContent,"text/xml").querySelector("figure img").getAttribute("src");break;case"i-d.vice":t=e.querySelector("enclosure").getAttribute("url");break;default:t="--"}return{website:n,heading:e.querySelector("title").textContent,src:t,link:e.querySelector("link").textContent,pubdate:(a=e.querySelector("pubDate").textContent,new Date(a).getTime()),displaydate:j(e.querySelector("pubDate").textContent)}}),l=k(this.state.sortOrder,i),o=Object(s.a)(l).slice(0,this.state.showMe),this.setState({allArticles:l,articlesToRender:o,numberOfPages:Math.ceil(i.length/this.state.showMe)});case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return b.a.createElement("div",{className:"article-container"},b.a.createElement("div",{className:"header"},b.a.createElement(y,{title:"Show",showMeChecked:this.state.showMe,onShowClick:this.handleShowMe}),b.a.createElement(w,{title:"Sort",sortByChecked:this.state.sortOrder,onSortClick:this.handleSortArticles})),b.a.createElement(v,{articles:this.state.articlesToRender}),b.a.createElement(O,{numberOfPages:this.state.numberOfPages,current:this.state.currentPage,handlePagination:this.handlePagination}))}}]),t}(b.a.Component);function S(e){return N.apply(this,arguments)}function N(){return(N=Object(i.a)(c.a.mark(function e(t){var a,r,s,i,l,o,u;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return a=e.sent,e.next=5,a.text();case 5:return r=e.sent,s=new DOMParser,i=s.parseFromString(r,"text/xml"),l=i.querySelectorAll("channel item"),o=Object(n.a)(l),u=o.slice(0),e.abrupt("return",u);case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}f.a.render(b.a.createElement(C,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.703c03ba.chunk.js.map